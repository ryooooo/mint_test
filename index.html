<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Sample Mint</title>
    <script
      src="https://cdn.ethers.io/lib/ethers-5.4.umd.min.js"
      type="application/javascript"
    ></script>
  </head>
  <body>
    <script>
      var provider = new ethers.providers.Web3Provider(window.ethereum);

      function connect() {
        provider.send("eth_requestAccounts", []);
      }

      function getAddress() {
        setInterval(function () {
          document.querySelector("#selected-address").innerText =
          "address: " + provider.provider.selectedAddress;
        }, 1000);
      }

      function mint() {
        var signer = provider.getSigner();
        var abi = ["function mint(string) external"];
        var contract = new ethers.Contract(
        "0x8610882487d67d497ADAf2148a651CC49163C9E2",
        abi,
        signer
        );
        contract
        .mint(
        "https://ethereum.org/static/a110735dade3f354a46fc2446cd52476/f3a29/eth-home-icon.webp"
        )
        .then(function (r) {
          document.querySelector("#tx").innerText = "tx: " + r.hash;
        });
      }
    </script>
    <div>
      <button onClick="connect()" style="border: 2px solid #000; border-radius: 0; background: #fff; font-size: 20px;" onMouseOver="this.style.color='#fff'">connect</button>
    </div>
    <div id="selected-address" style="font-size: 20px;">address:</div>
    <button id="mint" onClick="mint()" style="border: 2px solid #000; border-radius: 0; background: #fff; font-size: 22px; margin-top: 10px;">mint</button>
    <div id="tx" style="font-size: 20px;">tx:</div>
  </body>
  <script>
    getAddress();
  </script>
</html>
